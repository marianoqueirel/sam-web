<div class="page-title">
  <div class="title_left">
    <h3>Prestadores</h3>
  </div>

  <div class="title_right">
    <form ng-submit="searchProvider()">
      <div class="col-md-5 col-sm-5 col-xs-12 form-group pull-right">
        <div class="input-group">
          <input type="text" class="form-control" ng-model="term">
          <span class="input-group-btn">
            <button type="submit" class="btn btn-default">
              <i class="fa fa-search"></i>
            </button>
          </span>
        </div>
      </div>
      <div class="col-md-5 col-sm-5 col-xs-12 pull-right" ng-show="$root.currentUser.user_type !== 'User'">
        <select name="search_company_id" ng-model="search_company_id" class="form-control" ng-disabled="sending" ng-change="searchProvider()" ng-options="option.id as option.name for option in companies">
          <option value="" selected>Seleccione un empresa</option>
        </select>
      </div>
    </form>
  </div>
</div>
<div id="providers" ng-init="init()">
  <div class="x_panel">
    <button ng-if="$root.currentUser.user_type === 'User'" class="btn btn-primary pull-right" ng-click="providerModal({}, false)">
      Nuevo
      <i class="fa fa-user-md"></i>
    </button>
    <div class="x_content">
      <div class="table-responsive">
        <table class="table table-striped jambo_table bulk_action">
          <thead>
            <tr class="headings">
              <th class="column-title">#</th>
              <th class="column-title">Prestador</th>
              <th class="column-title">Direccion</th>
              <th class="column-title">Telefono</th>
              <th class="column-title">Responsable</th>
              <th class="column-title">Mail</th>
              <th class="column-title">CUIT</th>
              <th class="column-title">CBU</th>
              <th class="column-title no-link last">
              </th>
          </thead>

          <tbody>
            <tr ng-repeat="provider in providers track by $id(provider)" ng-class-odd="'pointer odd'" ng-class-even="'pointer even'">
              <td class=" ">{{provider.id}}</td>
              <td class=" ">{{provider.name}}</td>
              <td class=" ">{{provider.address}}</td>
              <td class=" ">{{provider.phone}}</td>
              <td class=" ">{{provider.in_charge}}</td>
              <td class=" ">{{provider.email}}</td>
              <td class=" ">{{provider.cuit}}</td>
              <td class=" ">{{provider.cbu}}</td>
              <td class="">
                <div class="btn-group">
                  <a class="btn btn-info" ng-click="providerModal(provider, true)"> Ver</a>
                  <a class="btn btn-success" ng-click="providerModal(provider, false)"> Editar</a>
                  <a ng-if="$root.currentUser.user_type === 'Admin'" class="btn btn-primary" ng-click="providerUserModal(provider)">Conf. Usuarios</a>
                </div>
              </td>
            </tr>
          </tbody>
        </table>
      </div>
      <div class="dataTables_paginate" ng-if="totalPages > 1">
        <ul uib-pagination total-items="pagination.totalItems" ng-model="pagination.currentPage" max-size="pagination.maxSize" class="pagination-sm" boundary-links="true" rotate="false" previous-text="&lsaquo;" next-text="&rsaquo;" first-text="&laquo;" last-text="&raquo;"></ul>
      </div>
    </div>
  </div>
</div>
